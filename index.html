<!DOCTYPE html>
<html>
<head>
  <title>R.M ENGINEERING COLLEGE - Student College Joining Details & Scholarship Eligibility Form</title>

  <style>
    body{
      font-family: Arial;
      background:#f2f2f2;
    }
    .container{
      width:95%;
      max-width:1100px;
      margin:auto;
      background:white;
      padding:20px;
      border-radius:10px;
    }
    h1,h2{text-align:center;}
    label{font-weight:bold;}
    input,select,button{
      width:100%;
      padding:8px;
      margin:6px 0;
    }
    button{
      background:#004aad;
      color:white;
      border:none;
      font-size:16px;
      cursor:pointer;
    }
    table{
      width:100%;
      border-collapse:collapse;
      margin-top:10px;
      font-size:14px;
    }
    th,td{
      border:1px solid black;
      padding:6px;
      text-align:center;
    }
    th{background:#e8e8e8;}
    .popup{
      display:none;
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.7);
    }
    .popup-content{
      background:white;
      width:70%;
      margin:15% auto;
      padding:40px;
      text-align:center;
      font-size:28px;
      border-radius:10px;
    }
    .logo{
      display:block;
      margin:0 auto 10px;
      width:140px;
    }
  </style>
</head>

<body>

<div class="container" id="studentForm">

  <img src="college logo.jpg" class="logo">

  <h1>R.M ENGINEERING COLLEGE</h1>
  <h2>Student College Joining Details & Scholarship Eligibility Form</h2>

  <label>Student Name</label>
  <input id="name">

  <label>Register Number</label>
  <input id="regno">

  <label>Date of Birth</label>
  <input type="date" id="dob">

  <label>Gender</label>
  <select id="gender">
    <option>Male</option>
    <option>Female</option>
  </select>

  <label>Mobile Number</label>
  <input id="mobile">

  <label>Email ID</label>
  <input type="email" id="email">

  <label>Course</label>
  <select id="course">
    <option>B.E Computer Science Engineering</option>
    <option>B.Tech Artificial Intelligence & Data Science</option>
    <option>B.E Mechanical Engineering</option>
    <option>B.E Civil Engineering</option>
    <option>B.E Electrical & Communication Engineering</option>
  </select>

  <label>Name of School</label>
  <input id="school">

  <label>School Location (City / District)</label>
  <input id="location">

  <label>Board of Examination</label>
  <select id="board">
    <option>State Board</option>
    <option>CBSE</option>
    <option>ICSE</option>
    <option>NIOS</option>
  </select>

  <label>Caste</label>
  <select id="caste">
    <option>OC</option>
    <option>BC</option>
    <option>BCM</option>
    <option>MBC / DNC</option>
    <option>SC</option>
    <option>SCA</option>
    <option>ST</option>
  </select>

  <h3>12th Marks Category</h3>

  <table>
    <tr>
      <th>Subject</th>
      <th>50% & Below</th>
      <th>60%‚Äì89%</th>
      <th>90% & Above</th>
    </tr>
    <tr>
      <td>Mathematics</td>
      <td><input type="radio" name="math" value="low"></td>
      <td><input type="radio" name="math" value="mid"></td>
      <td><input type="radio" name="math" value="high"></td>
    </tr>
    <tr>
      <td>Physics</td>
      <td><input type="radio" name="phy" value="low"></td>
      <td><input type="radio" name="phy" value="mid"></td>
      <td><input type="radio" name="phy" value="high"></td>
    </tr>
    <tr>
      <td>Chemistry</td>
      <td><input type="radio" name="chem" value="low"></td>
      <td><input type="radio" name="chem" value="mid"></td>
      <td><input type="radio" name="chem" value="high"></td>
    </tr>
  </table>

  <br>
  <button onclick="submitForm()">Submit Registration</button>
  <br><br>
  <button onclick="openAdmin()">Admin Login</button>
</div>

<div class="popup" id="popup">
  <div class="popup-content" id="popupText"></div>
</div>

<div class="container" id="adminPanel" style="display:none;">
  <h2>ADMIN DASHBOARD</h2>
  <button onclick="downloadExcel()">Download Excel</button>

  <table id="adminTable"></table>
</div>

<script>
let students=[];

function getMark(sub){
  let r=document.getElementsByName(sub);
  for(let i of r){ if(i.checked) return i.value; }
}

function submitForm(){
  let eligible =
    getMark("math")==="high" &&
    getMark("phy")==="high" &&
    getMark("chem")==="high";

  let name=document.getElementById("name").value;

  document.getElementById("popupText").innerHTML =
    eligible
    ? "üéâ "+name+"<br>ELIGIBLE FOR 7.5% SCHOLARSHIP"
    : "‚ùå "+name+"<br>NOT ELIGIBLE";

  document.getElementById("popup").style.display="block";

  students.push({
    name,
    reg:regno.value,
    dob:dob.value,
    gender:gender.value,
    mobile:mobile.value,
    email:email.value,
    course:course.value,
    school:school.value,
    location:location.value,
    board:board.value,
    caste:caste.value,
    status: eligible?"Eligible":"Not Eligible"
  });

  setTimeout(()=>popup.style.display="none",4000);
}

function openAdmin(){
  if(prompt("Username")==="rmec" && prompt("Password")==="admin123"){
    studentForm.style.display="none";
    adminPanel.style.display="block";
    loadAdmin();
  }else alert("Wrong Login");
}

function loadAdmin(){
  let t=adminTable;
  t.innerHTML=`
<tr>
<th>Name</th><th>Reg No</th><th>DOB</th><th>Gender</th>
<th>Mobile</th><th>Email</th><th>Course</th>
<th>School</th><th>Location</th><th>Board</th>
<th>Caste</th><th>Scholarship</th>
</tr>`;
  students.forEach(s=>{
    let r=t.insertRow();
    Object.values(s).forEach(v=>r.insertCell().innerText=v);
  });
}

function downloadExcel(){
  let csv="Name,RegNo,DOB,Gender,Mobile,Email,Course,School,Location,Board,Caste,Scholarship\n";
  students.forEach(s=>{
    csv+=Object.values(s).join(",")+"\n";
  });
  let a=document.createElement("a");
  a.href=URL.createObjectURL(new Blob([csv]));
  a.download="RMEC_Students.csv";
  a.click();
}
</script>

</body>
</html>
